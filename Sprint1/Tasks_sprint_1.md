# Sprint 1 Tasks


# Tasks
| ID | Description | Dépendences | Us | Temps | Dév. | État |
|-|-|-|-|-|-|-|
| 1 |Initialiser un projet node et installer les dépendances suivantes : <br> - Express, express-layout, exprès, express-session, passeport, Mongoose, ejs, body parser, bcryptjs.<br>Créer un fichier .env qui va contenir le lien de connexion à la base mongodb.<br>Créer un fichier Dockerfile et configurer l'image serveur du projet.<br>Créer un fichier docker compose et configurer le déploiement de l'application.   | - | - | 1 | Wassim | DONE |
| 2 | Définir le schéma mongoose des documents MongoDB représentant les Utilisateurs avec les champs suivants : <br>- Un identifiant de type ObjectId généré automatiquement par MongoDb<br>- Un nom de type String ayant une limite de 40 caractères<br>- Un prénom de type String ayant une limite de 40 caractères<br>- Un mail de type String ayant une limite de 40 caractères. Il devra également contenir un "@"<br>- Un mot de passe de type String ayant une limite de 40 caractères et devant faire minimum 6 caractères. | - | US 1 | 0.5 | Wassim | DONE |
| 3 | Définir le schéma mongoose des documents MongoDB représentant les Projets avec les champs suivants :<br>- Un identifiant de type ObjectId généré automatiquement par MongoDb<br>- Une description de type String ayant une limite de 300 caractères, optionnelle<br>- Une liste des identifiants des Utilisateurs étant contributeur du projet<br>- L'identifiant du créateur du projet<br>- La liste des sprints.<br><br>Un sprint est un embedded document contenant les champs suivants :<br>- Un identifiant de type ObjectId généré automatiquement par MongoDb<br>- Un nom de type String ayant une limite de caractères de 40 caractères<br>- Une date de début de type Date<br>- Une date de fin de type Date. La date de fin doit être postérieure à la date de début.<br>- Une liste de user stories<br>- Une release.<br><br>Une user story est un embedded document contenant les champs suivants :<br>- Un identifiant de type ObjectId généré automatiquement par MongoDb<br>- Une description de type String ayant une limite de 300 caractères, optionnelle<br>- Une difficulté de type Entier<br>- Une priorité de type Entier<br>- Une liste de tâches.<br><br>Une tâche est un embedded document contenant les champs suivants :<br>- Un identifiant de type ObjectId généré automatiquement par MongoDb<br>- Une description de type String ayant une limite de 300 caractères, optionnelle<br>- L'identifiant du développeur assigné à la tâche<br>- Une liste de tests.<br><br>Un test est un embedded document contenant les champs suivants :<br>- Un identifiant de type ObjectId généré automatiquement par MongoDb<br>- Un nom de type String ayant une limite de caractères de 40 caractères<br>- Une description de type String ayant une limite de 300 caractères, optionnelle<br>- Un état de type Number ne pouvant être que les nombres 0 et 1, 0 indiquant que le test ne passe pas, 1 l'inverse.<br><br>Une release est un embedded document contenant les champs suivants :<br>- Un identifiant de type ObjectId généré automatiquement par MongoDb<br>- Une version de type String ne pouvant contenir que des caractères numériques et des points<br>- Une description de type String ayant une limite de 300 caractères, optionnelle<br>- Un lien de type String<br>- Une liste de documentation.<br><br>Une documentation est un embedded document contenant les champs suivants :<br>- Un identifiant de type ObjectId généré automatiquement par MongoDb<br>- Un type de type String ne pouvant correspondre qu'aux chaînes de caractères "User", "Code" et "Admin"<br>- Une description de type String ayant une limite de 300 caractères, optionnelle<br>- Un chemin de type String | - | US 4| 0.5 | Wassim | DONE |
| 4 | Dans le fichier "register.ejs", représentant la page d'inscription, créer le formulaire d'inscription comprenant :<br>- un input permettant à l'utilisateur d'entrer un nom. Il ne doit pas dépasser les 40 caractères.<br>- un input permettant à l'utilisateur d'entrer un prénom. Il ne doit pas dépasser les 40 caractères.<br>- un input permettant à l'utilisateur d'entrer une adresse mail. Elle ne doit pas dépasser les 40 caractères. De plus, l'adresse doit être de la forme "a@b.c", où a, b et c sont des chaînes de caractères non vides.<br>- un input permettant à l'utilisateur d'entrer un mot de passe. Il doit avoir un minimum de 6 caractères et un maximum de 40 caractères. Les caractères tapées dans l'input doivent tous apparaître comme étant une astérisque<br>- un input permettant à l'utilisateur de confirmer son mot de passe. Le mot de passe de cet input doit être identique au mot de passe du précédent input.<br>- un bouton "Créer un nouveau compte". | 1 | US 1| 0.5 | Wassim | DONE |
| 5 | Dans le fichier "register.js", implémenter la fonctionnalité permettant à un visiteur du site de s'inscrire.<br>L'appui sur le bouton "Créer un nouveau compte" de la page d'inscription devra avoir le comportement suivant : il vérifiera que tous les inputs sont remplis et que leurs contraintes sont respectées. Si c'est le cas, l'utilisateur sera ajouté dans la base de données et sera redirigé vers la page de la liste de ses projets (étant donc vide). Si ce n'est pas le cas, le navigateur devra afficher un message d'erreur indiquant la contrainte n'ayant pas été respectée ou l'/les input(s) n'ayant pas été rempli.  | 2,4 | US 1| 1 | Wassim | DONE |
| 6 | Dans le fichier "login.ejs" représentant la page de connexion, créer le formulaire d'authentification comprenant :<br>- un input permettant à l'utilisateur d'entrer son adresse mail. Elle ne doit pas dépasser les 40 caractères. De plus, l'adresse doit être de la<br>forme "a@b.c", où a, b et c sont des chaînes de caractères non vides.<br>- un input permettant à l'utilisateur d'entrer son mot de passe.<br>- un bouton "se connecter". | 1 | US 2| 0.5 | Wassim | DONE |
| 7 | Dans le fichier "login.js", implémenter la fonctionnalité permettant à un visiteur du site de se connecter.<br>L'appui sur le bouton "Se connecter" de la page de connexion devra avoir le comportement suivant : il vérifiera que tous les inputs sont remplis et que leurs contraintes sont respectées. Si c'est le cas, le visiteur sera authentifié et redirigé vers la liste de ses projets. Si ce n'est pas le cas, le navigateur devra afficher un message d'erreur indiquant la contrainte n'ayant pas été respectée ou l'/les input(s) n'ayant pas été rempli et l'utilisateur sera invité à resaisir ses identifiants. | 5,6 | US 2| 1 | Wassim | DONE |
| 8 | Dans le fichier "createProject.ejs", représentant la page de création de projet, créer un formulaire de création comprenant :<br>- un input permettant à l'utilisateur d'entrer le nom du projet. Il ne doit pas dépasser les 40 caractères.<br>- un input permettant à l'utilisateur d'entrer la description du projet (optionnelle). Elle ne doit pas dépasser les 300 caractères.<br>- un bouton "Créer un projet". | 1 | US 4 | 0.5 | Nicolas | DONE |
| 9 | Dans le fichier "createProject.js", implémenter la fonctionnalité permettant à un utilisateur authentifié de créer un projet.<br>L'appui sur le bouton "Créer un projet" de la page de création de projet devra avoir le comportement suivant : il vérifiera que tous les inputs sont remplis et que leurs contraintes sont respectées. Si c'est le cas, le projet sera ajouté à la base de données et apparaître dans la liste des projets de l'utilisateur. | 3,7,8 | US 4| 0.5 | Nicolas | DONE |
| 10 | Dans le fichier "index.ejs", créer la page représentant la page principale d'un utilisateur connecté. Elle devra contenir :<br>- la liste des projets créés par l'utilisateur. Chaque ligne de cette liste sera le nom d'un projet. Cliquer sur ce nom redirigera l'utilisateur vers la page de ce projet.<br>- un bouton "Créer un nouveau projet" qui redirigera l'utilisateur vers la page de création de projet. | 3,8 | US 6 | 0.5 | Alexis | TODO |
| 11 | Dans le fichier "project.ejs", créer la page représentant la page principale d'un projet. Elle devra contenir :<br>- le nom du projet<br>- un bouton ayant une icône de modification à côté du nom<br>- la description du projet<br>- un bouton "Modifier" en bas de la description<br>- un bouton "Accéder au backlog" en bas de la page qui redirigera vers le backlog du projet<br>- un bouton "Supprimer" en bas à droite de la page. | 13 | US 5,7 | 0.5 | Nicolas | DONE |
| 12 | Dans le fichier "project.js", implémenter les fonctionnalités suivantes pour la page principale d'un projet :<br>- l'appui sur le bouton à côté du nom du projet rend le nom du projet modifiable et change l'icône du bouton en une icône de confirmation. Recliquer sur l'icône de confirmation vérifie que le nom du projet ne dépasse pas 40 caractères. S'il ne les dépasse pas, le titre du projet est mis à jour dans la base de données. S'il les dépasse, une erreur est affichée indiquant qu'il ne faut pas dépasser 40 caractères.<br>- l'appui sur le bouton "Modifier" rend la description modifiable et change le texte du bouton "Modifier" en "Appliquer". L'appui sur le bouton "Appliquer" vérifie que la description ne dépasse pas 300 caractères. Si elle ne les dépasse pas, la description du projet est mise à jour dans la base de données. Si elle les dépasse, une erreur est affichée indiquant qu'il ne faut pas dépasser 300 caractères.<br>- l'appui sur le bouton "Supprimer" affichera une pop-up de confirmation de suppression. Si l'utilisateur confirme, la pop-up se fermera, le projet sera supprimé de la base de données et l'utilisateur sera redirigé vers la liste de ses projets. S'il ne confirme pas, la pop-up se fermera.  | 3,7,11 | US 5,7 | 1 | Nicolas | DONE |
| 13 | Dans le fichier "backlog.ejs", créer la page représentant les user stories du projet sélectionné. Elle devra correspondre aux critères suivants :<br>- la page devra contenir un tableau listant les user stories, avec une colonne pour l'id de l'user story, une colonne pour sa description, une colonne pour sa difficulté, une colonne pour sa priorité, une colonne comprenant un bouton "Modifier" et une colonne comprenant un bouton "Supprimer"<br>- un bouton "Ajouter une user story" en bas du tableau. | 1,3 | US 7| 0.5 | Alexis | TODO |
| 14 | Dans le fichier "backlog.js", implémenter les fonctionnalités suivantes :<br>- l'appui sur le bouton "Ajouter une user story" ajoutera une ligne modifiable au tableau. On ne pourra saisir que des entiers pour les colonnes de la difficulté et de la priorité. Toutes les colonnes seront vides à l'exception des deux dernières. L'avant-dernière contiendra un bouton "Appliquer". L'appui sur le bouton "Appliquer" vérifiera que toutes les colonnes sont remplies, que l'id est unique et que la description ne dépasse pas 300 caractères. Si toutes ces contraintes sont respectées, la ligne deviendra read-only, la user story sera ajoutée à la base de données et le texte du bouton "Appliquer" deviendra "Modifier". Si elles ne sont pas respectées, des messages d'erreurs devront être affichés en fonction des contraintes non respectées.<br>- l'appui sur un bouton "Modifier" permettra de modifier la user story de la ligne du bouton et changera le texte du bouton "Modifier" en "Appliquer". L'appui sur le bouton "Appliquer" vérifiera les contraintes d'ajout d'une user story et si elles sont respectées, mettra à jour la user story modifiée dans la base de données et rechangera le texte du bouton en "Modifier". Si elles ne sont pas respectées, des messages d'erreurs devront être affichés en fonction des contraintes non respectées.<br>- l'appui sur le bouton "Supprimer" affichera une pop-up de confirmation de suppression. Si l'utilisateur confirme, la pop-up se fermera et la user story sera supprimée du tableau et de la base de données. S'il ne confirme pas, la pop-up se fermera. | 12,13 | US 7,8 | 1.5 | Alexis| TODO |
| 15 | Dans le fichier "project.js", ajouter la fonction qui permet de rajouter un user a un projet en entrant son id. L'utilisateur doit exister dans la base de données sinon un message d'erreur sera affiché.<br>Dans le fichier project.ejs, rajouter un bouton "Ajouter collaborateur".<br>Créer le fichier addUser.ejs qui affiche le formulaire d'ajout avec un champ idUser | 11,12 | US 9 | 0.5 | WASSIM | DONE |
| 16 | Dans les fichiers correspondant à la partie du site réservée aux utilisateurs connectés, ajouter un bouton "Déconnexion" permettant à l'utilisateur de se déconnecter de sa session lorsqu'il clique dessus. | 7 | US 3 | 0.5 | Wassim | DONE |
